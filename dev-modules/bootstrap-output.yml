---
# Collect outputs for bootstrap cloudformation stack
- name: "bootstrap-output - {{ root_name }} - Collect  {{ btstrp_stack }} cloudformation stack facts"
  amazon.aws.cloudformation_info:
    stack_name: "{{ btstrp_stack }}"
  register: btstrp_stack_info

- name: "bootstrap-output - {{ root_name }} - Set outputs as variables"
  set_fact:
    BootstrapInstanceId: "{{ btstrp_stack_info.cloudformation[ stack_name ][ 'stack_outputs' ][ 'BootstrapInstanceId' ] }}"
    BootstrapPrivateIp: "{{ btstrp_stack_info.cloudformation[ stack_name ][ 'stack_outputs' ][ 'BootstrapPrivateIp' ] }}"
    BootstrapPublicIp: "{{ btstrp_stack_info.cloudformation[ stack_name ][ 'stack_outputs' ][ 'BootstrapPublicIp' ] }}"

